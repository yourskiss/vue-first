import{a as N}from"./index-xsH4HHeE.js";import{k as p,d as B,c as V,h as z,a as e,b as i,i as _,f as g,t as u,u as d,F as h,r as x,G as F,o as a,_ as M}from"./index-DIEM_Stt.js";function S(){const b="https://api.escuelajs.co/api/v1/products",v=p(null),P=p(!1),r=p(null),c=p(0);return{products:v,isLoad:P,error:r,fetchProducts:async(t=0,l=10)=>{P.value=!0,r.value=null,c.value=0,v.value=null;try{const s=await N.get(b,{params:{offset:t,limit:l}});v.value=s.data,c.value=s.data.length}catch(s){r.value=s.message}finally{P.value=!1}},totalProducts:c}}const T={key:0},j={key:1},w={key:2},D={key:3,class:"pagination"},E=["disabled"],G=["onClick"],I=["disabled"],m=10,R=B({__name:"ProductPaging",setup(b){const{products:v,isLoad:P,error:r,fetchProducts:c,totalProducts:f}=S(),t=p(1),l=V(()=>Math.ceil(f.value/m));z(()=>{c(0,m)});const s=k=>{t.value=k,c((k-1)*m,m)},C=()=>{t.value<l.value&&s(t.value+1)},L=()=>{t.value>1&&s(t.value-1)};return(k,o)=>(a(),e("div",null,[i("h1",null,[o[0]||(o[0]=g(" Paginated Products (10 per page) ")),o[1]||(o[1]=i("br",null,null,-1)),g(" totalProducts - "+u(d(f))+" ",1),o[2]||(o[2]=i("br",null,null,-1)),g(" totalPages - "+u(l.value)+" ",1),o[3]||(o[3]=i("br",null,null,-1)),g(" currentPage - "+u(t.value),1)]),d(P)?(a(),e("div",T,"Loading...")):_("",!0),d(r)?(a(),e("div",j,u(d(r)),1)):_("",!0),d(f)?(a(),e("ul",w,[(a(!0),e(h,null,x(d(v),(n,y)=>(a(),e("li",{key:y},u(n.title)+" "+u(n.description),1))),128))])):_("",!0),l.value>0?(a(),e("div",D,[i("button",{onClick:L,disabled:t.value===1},"Prev",8,E),(a(!0),e(h,null,x(l.value,n=>(a(),e("button",{key:n,class:F({active:t.value===n}),onClick:y=>s(n)},u(n),11,G))),128)),i("button",{onClick:C,disabled:t.value===l.value},"Next",8,I)])):_("",!0)]))}}),q=M(R,[["__scopeId","data-v-3ef94dc8"]]);export{q as default};
